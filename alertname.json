{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "description": "Alerts from prometheus.", "editable": true, "gnetId": 5450, "graphTooltip": 0, "id": 20, "iteration": 1633427007735, "links": [{"asDropdown": true, "icon": "external link", "includeVars": true, "keepTime": true, "tags": ["OS"], "targetBlank": true, "title": "OS", "type": "dashboards"}, {"asDropdown": true, "icon": "external link", "includeVars": true, "keepTime": true, "tags": ["MySQL"], "targetBlank": true, "title": "MySQL", "type": "dashboards"}, {"asDropdown": true, "icon": "external link", "includeVars": true, "keepTime": true, "tags": ["MongoDB"], "targetBlank": true, "title": "MongoDB", "type": "dashboards"}, {"asDropdown": true, "icon": "external link", "includeVars": true, "keepTime": true, "tags": ["App"], "targetBlank": true, "title": "App", "type": "dashboards"}], "panels": [{"cacheTimeout": null, "datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 1}, {"color": "#d44a3a", "value": 10}]}, "unit": "short"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 0, "y": 0}, "id": 23, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "value"}, "pluginVersion": "8.1.2", "targets": [{"exemplar": true, "expr": "count(ALERTS{instance=~\"$instance\"} > 0) OR on() vector(0)", "format": "time_series", "instant": true, "interval": "", "intervalFactor": 2, "legendFormat": "", "refId": "A"}, {"exemplar": true, "expr": "count(ALERTS{alertname=~\"$alertname\"} > 0) OR on() vector(0)", "hide": true, "interval": "", "legendFormat": "", "refId": "B"}, {"exemplar": true, "expr": "count(ALERTS{job=~\"$job\"} > 0) OR on() vector(0)", "hide": true, "interval": "", "legendFormat": "", "refId": "C"}], "title": "Alerts", "type": "stat"}, {"cacheTimeout": null, "datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 1}, {"color": "#d44a3a", "value": 10}]}, "unit": "short"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 8, "y": 0}, "id": 24, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.2", "targets": [{"exemplar": true, "expr": "count(ALERTS{instance=~\"$instance\", severity=\"warning\"} > 0) OR on() vector(0)", "format": "time_series", "instant": true, "interval": "", "intervalFactor": 2, "legendFormat": "", "refId": "A"}], "title": "Warnings", "type": "stat"}, {"cacheTimeout": null, "datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"match": "null", "result": {"text": "N/A"}}, "type": "special"}], "thresholds": {"mode": "absolute", "steps": [{"color": "#299c46", "value": null}, {"color": "rgba(237, 129, 40, 0.89)", "value": 1}, {"color": "#d44a3a", "value": 10}]}, "unit": "short"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 16, "y": 0}, "id": 30, "interval": null, "links": [], "maxDataPoints": 100, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "auto", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "text": {}, "textMode": "auto"}, "pluginVersion": "8.1.2", "targets": [{"exemplar": true, "expr": "count(ALERTS{instance=~\"$instance\", severity=\"critical\"} > 0) OR on() vector(0)", "format": "time_series", "instant": true, "interval": "", "intervalFactor": 2, "legendFormat": "", "refId": "A"}], "title": "Critical", "type": "stat"}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 12, "x": 0, "y": 6}, "hiddenSeries": false, "id": 35, "legend": {"avg": false, "current": false, "max": false, "min": false, "rightSide": true, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.2", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "avg_over_time(ALERTS{job=\"node\", instance=~\"$instance\", alertname=~\"$alerts\"}[1m]) OR on() vector(0)", "interval": "", "intervalFactor": 1, "legendFormat": "{{alertname}} ({{instance}})", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Node exporter", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:35", "format": "short", "label": null, "logBase": 1, "max": null, "min": "0", "show": true}, {"$$hashKey": "object:36", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 12, "x": 12, "y": 6}, "hiddenSeries": false, "id": 39, "legend": {"avg": false, "current": false, "max": false, "min": false, "rightSide": true, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.2", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "avg_over_time(ALERTS{job=\"process\", instance=~\"$instance\", alertname=~\"$alerts\"}[1m]) OR on() vector(0)", "interval": "", "legendFormat": "{{alertname}} ({{instance}})", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Process exporter", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:64", "format": "short", "label": null, "logBase": 1, "max": null, "min": "0", "show": true}, {"$$hashKey": "object:65", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 12, "x": 0, "y": 13}, "hiddenSeries": false, "id": 36, "legend": {"avg": false, "current": false, "max": false, "min": false, "rightSide": true, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.2", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "avg_over_time(ALERTS{job=\"rabbit\", instance=~\"$instance\", alertname=~\"$alerts\"}[1m]) OR on() vector(0)", "interval": "", "legendFormat": "{{alertname}} ({{instance}})", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "RabbitMQ exporter", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:93", "format": "short", "label": null, "logBase": 1, "max": null, "min": "0", "show": true}, {"$$hashKey": "object:94", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 12, "x": 12, "y": 13}, "hiddenSeries": false, "id": 37, "legend": {"avg": false, "current": false, "max": false, "min": false, "rightSide": true, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.2", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "avg_over_time(ALERTS{job=\"postgresql\", instance=~\"$instance\", alertname=~\"$alerts\"}[1m]) OR on() vector(0)", "interval": "", "legendFormat": "{{alertname}} ({{instance}})", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "PostgeSQL  exporter", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:122", "format": "short", "label": null, "logBase": 1, "max": null, "min": "0", "show": true}, {"$$hashKey": "object:123", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}, {"aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "fill": 1, "fillGradient": 0, "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20}, "hiddenSeries": false, "id": 38, "legend": {"avg": false, "current": false, "max": false, "min": false, "rightSide": true, "show": true, "total": false, "values": false}, "lines": true, "linewidth": 1, "nullPointMode": "null", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "8.1.2", "pointradius": 2, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"exemplar": true, "expr": "avg_over_time(ALERTS{job=\"redis\", instance=~\"$instance\", alertname=~\"$alerts\"}[1m]) OR on() vector(0)", "interval": "", "legendFormat": "{{alertname}} ({{instance}})", "refId": "A"}], "thresholds": [], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "Redis exporter", "tooltip": {"shared": true, "sort": 0, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"$$hashKey": "object:241", "format": "short", "label": null, "logBase": 1, "max": null, "min": "0", "show": true}, {"$$hashKey": "object:242", "format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}], "refresh": "", "schemaVersion": 30, "style": "dark", "tags": ["App", "Alerts"], "templating": {"list": [{"allValue": ".+", "current": {"selected": false, "text": "All", "value": "$__all"}, "datasource": null, "definition": "label_values(ALERTS, job)", "description": null, "error": null, "hide": 0, "includeAll": true, "label": "job", "multi": false, "name": "job", "options": [], "query": {"query": "label_values(ALERTS, job)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}, {"allValue": "", "current": {"selected": false, "text": "All", "value": "$__all"}, "datasource": null, "definition": "label_values(ALERTS{job=~\"$job\"}, instance)", "description": null, "error": null, "hide": 0, "includeAll": true, "label": "instance", "multi": false, "name": "instance", "options": [], "query": {"query": "label_values(ALERTS{job=~\"$job\"}, instance)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}, {"allValue": "", "current": {"selected": true, "text": ["All"], "value": ["$__all"]}, "datasource": "Prometheus", "definition": "label_values(ALERTS{job=~\"$job\"},alertname)", "description": null, "error": null, "hide": 0, "includeAll": true, "label": "alerts", "multi": true, "name": "alerts", "options": [], "query": {"query": "label_values(ALERTS{job=~\"$job\"},alertname)", "refId": "StandardVariableQuery"}, "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "tagValuesQuery": null, "tagsQuery": null, "type": "query", "useTags": false}, {"allValue": null, "current": {"selected": false, "text": "KubernetesNodeReady", "value": "KubernetesNodeReady"}, "description": null, "error": null, "hide": 0, "includeAll": false, "label": null, "multi": false, "name": "need_alert", "options": [{"selected": true, "text": "KubernetesNodeReady", "value": "KubernetesNodeReady"}, {"selected": false, "text": "KubernetesMemoryPressure", "value": "KubernetesMemoryPressure"}], "query": "Check port SMEV, BlackboxProbeHttpFailure, Check 5432 port psql, Check  port 9200 Els, Check  port 8008 Patroni, Check port, Check port FTP, Check port Jinn, BlackboxSslCertificateWillExpireSoon, BlackboxSslCertificateWillExpireSoon, BlackboxSslCertificateExpired, BlackboxProbeSlowHttp, BlackboxProbeSlowPing, ElasticsearchHeapUsageTooHigh, ElasticsearchHeapUsageWarning, ElasticsearchDiskSpaceLow, ElasticsearchDiskOutOfSpace, ElasticsearchClusterRed, ElasticsearchHealthyNodes, ElasticsearchHealthyDataNodes, ElasticsearchRelocationShards, ElasticsearchInitializingShards, ElasticsearchUnassignedShards, ElasticsearchPendingTasks, ElasticsearchNoNewDocuments, ApacheDown, ApacheWorkersLoad, ApacheRestart, JvmMemoryFillingUp, The journal contains > 5000 messages, Artifactory, EtcdInsufficientMembers, EtcdNoLeader, EtcdHighNumberOfLeaderChanges, EtcdHighNumberOfFailedGrpcRequests, EtcdHighNumberOfFailedGrpcRequests, EtcdGrpcRequestsSlow, EtcdHighNumberOfFailedHttpRequests, EtcdHighNumberOfFailedHttpRequests, EtcdHttpRequestsSlow, EtcdMemberCommunicationSlow, EtcdHighNumberOfFailedProposals, EtcdHighFsyncDurations, EtcdHighCommitDurations, CorednsPanicCount, ContainerKilled, ContainerMemoryUsage, ContainerVolumeUsage, ContainerVolumeIoUsage, ContainerHighThrottleRate, ContainerCpuUsage", "skipUrlSync": false, "type": "custom"}]}, "time": {"from": "now-5m", "to": "now"}, "timepicker": {"collapse": false, "enable": true, "notice": false, "now": true, "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"], "status": "Stable", "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"], "type": "timepicker"}, "timezone": "browser", "title": "Alerts", "uid": "J7QFEbInz", "version": 211}